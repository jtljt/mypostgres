{"architecture":"amd64","config":{"Hostname":"","Domainname":"","User":"","AttachStdin":false,"AttachStdout":false,"AttachStderr":false,"ExposedPorts":{"5432/tcp":{}},"Tty":false,"OpenStdin":false,"StdinOnce":false,"Env":["PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/lib/postgresql/13/bin","GOSU_VERSION=1.12","LANG=en_US.utf8","PG_MAJOR=13","PG_VERSION=13.0-1.pgdg100+1","PGDATA=/var/lib/postgresql/data"],"Cmd":["postgres"],"ArgsEscaped":true,"Image":"sha256:07d5d1fabc892edfdd47a6dbbc7c41a198b3c5ab167f16f3df2a7ff576b8e89b","Volumes":{"/var/lib/postgresql/data":{}},"WorkingDir":"","Entrypoint":["docker-entrypoint.sh"],"OnBuild":null,"Labels":null,"StopSignal":"SIGINT"},"container":"876b1f022b89de366312d3dd27b61a2eaf08615d2fc674d10b4ab1921600d5a4","container_config":{"Hostname":"876b1f022b89","Domainname":"","User":"","AttachStdin":false,"AttachStdout":false,"AttachStderr":false,"ExposedPorts":{"5432/tcp":{}},"Tty":false,"OpenStdin":false,"StdinOnce":false,"Env":["PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/lib/postgresql/13/bin","GOSU_VERSION=1.12","LANG=en_US.utf8","PG_MAJOR=13","PG_VERSION=13.0-1.pgdg100+1","PGDATA=/var/lib/postgresql/data"],"Cmd":["/bin/sh","-c","#(nop) ","CMD [\"postgres\"]"],"ArgsEscaped":true,"Image":"sha256:07d5d1fabc892edfdd47a6dbbc7c41a198b3c5ab167f16f3df2a7ff576b8e89b","Volumes":{"/var/lib/postgresql/data":{}},"WorkingDir":"","Entrypoint":["docker-entrypoint.sh"],"OnBuild":null,"Labels":{},"StopSignal":"SIGINT"},"created":"2020-10-13T12:32:39.259536399Z","docker_version":"18.09.7","history":[{"created":"2020-10-13T01:39:05.233816802Z","created_by":"/bin/sh -c #(nop) ADD file:0dc53e7886c35bc21ae6c4f6cedda54d56ae9c9e9cd367678f1a72e68b3c43d4 in / "},{"created":"2020-10-13T01:39:05.467867564Z","created_by":"/bin/sh -c #(nop)  CMD [\"bash\"]","empty_layer":true},{"created":"2020-10-13T12:31:48.224357153Z","created_by":"/bin/sh -c set -ex; \tif ! command -v gpg \u003e /dev/null; then \t\tapt-get update; \t\tapt-get install -y --no-install-recommends \t\t\tgnupg \t\t\tdirmngr \t\t; \t\trm -rf /var/lib/apt/lists/*; \tfi"},{"created":"2020-10-13T12:31:49.092068116Z","created_by":"/bin/sh -c set -eux; \tgroupadd -r postgres --gid=999; \tuseradd -r -g postgres --uid=999 --home-dir=/var/lib/postgresql --shell=/bin/bash postgres; \tmkdir -p /var/lib/postgresql; \tchown -R postgres:postgres /var/lib/postgresql"},{"created":"2020-10-13T12:31:49.305026656Z","created_by":"/bin/sh -c #(nop)  ENV GOSU_VERSION=1.12","empty_layer":true},{"created":"2020-10-13T12:31:58.604739243Z","created_by":"/bin/sh -c set -eux; \tsavedAptMark=\"$(apt-mark showmanual)\"; \tapt-get update; \tapt-get install -y --no-install-recommends ca-certificates wget; \trm -rf /var/lib/apt/lists/*; \tdpkgArch=\"$(dpkg --print-architecture | awk -F- '{ print $NF }')\"; \twget -O /usr/local/bin/gosu \"https://github.com/tianon/gosu/releases/download/$GOSU_VERSION/gosu-$dpkgArch\"; \twget -O /usr/local/bin/gosu.asc \"https://github.com/tianon/gosu/releases/download/$GOSU_VERSION/gosu-$dpkgArch.asc\"; \texport GNUPGHOME=\"$(mktemp -d)\"; \tgpg --batch --keyserver hkps://keys.openpgp.org --recv-keys B42F6819007F00F88E364FD4036A9C25BF357DD4; \tgpg --batch --verify /usr/local/bin/gosu.asc /usr/local/bin/gosu; \tgpgconf --kill all; \trm -rf \"$GNUPGHOME\" /usr/local/bin/gosu.asc; \tapt-mark auto '.*' \u003e /dev/null; \t[ -z \"$savedAptMark\" ] || apt-mark manual $savedAptMark \u003e /dev/null; \tapt-get purge -y --auto-remove -o APT::AutoRemove::RecommendsImportant=false; \tchmod +x /usr/local/bin/gosu; \tgosu --version; \tgosu nobody true"},{"created":"2020-10-13T12:32:06.826763999Z","created_by":"/bin/sh -c set -eux; \tif [ -f /etc/dpkg/dpkg.cfg.d/docker ]; then \t\tgrep -q '/usr/share/locale' /etc/dpkg/dpkg.cfg.d/docker; \t\tsed -ri '/\\/usr\\/share\\/locale/d' /etc/dpkg/dpkg.cfg.d/docker; \t\t! grep -q '/usr/share/locale' /etc/dpkg/dpkg.cfg.d/docker; \tfi; \tapt-get update; apt-get install -y --no-install-recommends locales; rm -rf /var/lib/apt/lists/*; \tlocaledef -i en_US -c -f UTF-8 -A /usr/share/locale/locale.alias en_US.UTF-8"},{"created":"2020-10-13T12:32:07.0607723Z","created_by":"/bin/sh -c #(nop)  ENV LANG=en_US.utf8","empty_layer":true},{"created":"2020-10-13T12:32:12.084186057Z","created_by":"/bin/sh -c set -eux; \tapt-get update; \tapt-get install -y --no-install-recommends \t\tlibnss-wrapper \t\txz-utils \t; \trm -rf /var/lib/apt/lists/*"},{"created":"2020-10-13T12:32:12.839734308Z","created_by":"/bin/sh -c mkdir /docker-entrypoint-initdb.d"},{"created":"2020-10-13T12:32:13.863267577Z","created_by":"/bin/sh -c set -ex; \tkey='B97B0AFCAA1A47F044F244A07FCC7D46ACCC4CF8'; \texport GNUPGHOME=\"$(mktemp -d)\"; \tgpg --batch --keyserver ha.pool.sks-keyservers.net --recv-keys \"$key\"; \tgpg --batch --export \"$key\" \u003e /etc/apt/trusted.gpg.d/postgres.gpg; \tcommand -v gpgconf \u003e /dev/null \u0026\u0026 gpgconf --kill all; \trm -rf \"$GNUPGHOME\"; \tapt-key list"},{"created":"2020-10-13T12:32:14.056006356Z","created_by":"/bin/sh -c #(nop)  ENV PG_MAJOR=13","empty_layer":true},{"created":"2020-10-13T12:32:14.22270205Z","created_by":"/bin/sh -c #(nop)  ENV PG_VERSION=13.0-1.pgdg100+1","empty_layer":true},{"created":"2020-10-13T12:32:34.162378074Z","created_by":"/bin/sh -c set -ex; \t\texport PYTHONDONTWRITEBYTECODE=1; \t\tdpkgArch=\"$(dpkg --print-architecture)\"; \tcase \"$dpkgArch\" in \t\tamd64 | arm64 | i386 | ppc64el) \t\t\techo \"deb http://apt.postgresql.org/pub/repos/apt/ buster-pgdg main $PG_MAJOR\" \u003e /etc/apt/sources.list.d/pgdg.list; \t\t\tapt-get update; \t\t\t;; \t\t*) \t\t\techo \"deb-src http://apt.postgresql.org/pub/repos/apt/ buster-pgdg main $PG_MAJOR\" \u003e /etc/apt/sources.list.d/pgdg.list; \t\t\t\t\t\tcase \"$PG_MAJOR\" in \t\t\t\t9.* | 10 ) ;; \t\t\t\t*) \t\t\t\t\techo 'deb http://deb.debian.org/debian buster-backports main' \u003e\u003e /etc/apt/sources.list.d/pgdg.list; \t\t\t\t\t;; \t\t\tesac; \t\t\t\t\t\ttempDir=\"$(mktemp -d)\"; \t\t\tcd \"$tempDir\"; \t\t\t\t\t\tsavedAptMark=\"$(apt-mark showmanual)\"; \t\t\t\t\t\tapt-get update; \t\t\tDEBIAN_FRONTEND=noninteractive \t\t\tapt-get build-dep -y \t\t\t\tpostgresql-common pgdg-keyring \t\t\t\t\"postgresql-$PG_MAJOR=$PG_VERSION\" \t\t\t; \t\t\tDEB_BUILD_OPTIONS=\"nocheck parallel=$(nproc)\" \t\t\t\tapt-get source --compile \t\t\t\t\tpostgresql-common pgdg-keyring \t\t\t\t\t\"postgresql-$PG_MAJOR=$PG_VERSION\" \t\t\t; \t\t\t\t\t\tapt-mark showmanual | xargs apt-mark auto \u003e /dev/null; \t\t\tapt-mark manual $savedAptMark; \t\t\t\t\t\tls -lAFh; \t\t\tdpkg-scanpackages . \u003e Packages; \t\t\tgrep '^Package: ' Packages; \t\t\techo \"deb [ trusted=yes ] file://$tempDir ./\" \u003e /etc/apt/sources.list.d/temp.list; \t\t\tapt-get -o Acquire::GzipIndexes=false update; \t\t\t;; \tesac; \t\tapt-get install -y --no-install-recommends postgresql-common; \tsed -ri 's/#(create_main_cluster) .*$/\\1 = false/' /etc/postgresql-common/createcluster.conf; \tapt-get install -y --no-install-recommends \t\t\"postgresql-$PG_MAJOR=$PG_VERSION\" \t; \t\trm -rf /var/lib/apt/lists/*; \t\tif [ -n \"$tempDir\" ]; then \t\tapt-get purge -y --auto-remove; \t\trm -rf \"$tempDir\" /etc/apt/sources.list.d/temp.list; \tfi; \t\tfind /usr -name '*.pyc' -type f -exec bash -c 'for pyc; do dpkg -S \"$pyc\" \u0026\u003e /dev/null || rm -vf \"$pyc\"; done' -- '{}' +"},{"created":"2020-10-13T12:32:35.120497777Z","created_by":"/bin/sh -c set -eux; \tdpkg-divert --add --rename --divert \"/usr/share/postgresql/postgresql.conf.sample.dpkg\" \"/usr/share/postgresql/$PG_MAJOR/postgresql.conf.sample\"; \tcp -v /usr/share/postgresql/postgresql.conf.sample.dpkg /usr/share/postgresql/postgresql.conf.sample; \tln -sv ../postgresql.conf.sample \"/usr/share/postgresql/$PG_MAJOR/\"; \tsed -ri \"s!^#?(listen_addresses)\\s*=\\s*\\S+.*!\\1 = '*'!\" /usr/share/postgresql/postgresql.conf.sample; \tgrep -F \"listen_addresses = '*'\" /usr/share/postgresql/postgresql.conf.sample"},{"created":"2020-10-13T12:32:35.981214389Z","created_by":"/bin/sh -c mkdir -p /var/run/postgresql \u0026\u0026 chown -R postgres:postgres /var/run/postgresql \u0026\u0026 chmod 2777 /var/run/postgresql"},{"created":"2020-10-13T12:32:36.15245925Z","created_by":"/bin/sh -c #(nop)  ENV PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/lib/postgresql/13/bin","empty_layer":true},{"created":"2020-10-13T12:32:36.388213235Z","created_by":"/bin/sh -c #(nop)  ENV PGDATA=/var/lib/postgresql/data","empty_layer":true},{"created":"2020-10-13T12:32:37.251380785Z","created_by":"/bin/sh -c mkdir -p \"$PGDATA\" \u0026\u0026 chown -R postgres:postgres \"$PGDATA\" \u0026\u0026 chmod 777 \"$PGDATA\""},{"created":"2020-10-13T12:32:37.456380843Z","created_by":"/bin/sh -c #(nop)  VOLUME [/var/lib/postgresql/data]","empty_layer":true},{"created":"2020-10-13T12:32:37.663288411Z","created_by":"/bin/sh -c #(nop) COPY file:319b7406843f62370047c33da3dd702120d7eec161b31772aa6de0f02a6b3a94 in /usr/local/bin/ "},{"created":"2020-10-13T12:32:38.456207095Z","created_by":"/bin/sh -c ln -s usr/local/bin/docker-entrypoint.sh / # backwards compat"},{"created":"2020-10-13T12:32:38.651598999Z","created_by":"/bin/sh -c #(nop)  ENTRYPOINT [\"docker-entrypoint.sh\"]","empty_layer":true},{"created":"2020-10-13T12:32:38.836002198Z","created_by":"/bin/sh -c #(nop)  STOPSIGNAL SIGINT","empty_layer":true},{"created":"2020-10-13T12:32:39.038133636Z","created_by":"/bin/sh -c #(nop)  EXPOSE 5432","empty_layer":true},{"created":"2020-10-13T12:32:39.259536399Z","created_by":"/bin/sh -c #(nop)  CMD [\"postgres\"]","empty_layer":true}],"os":"linux","rootfs":{"type":"layers","diff_ids":["sha256:d0fe97fa8b8cefdffcef1d62b65aba51a6c87b6679628a2b50fc6a7a579f764c","sha256:6441b23c4998775f1a60d50b2913215f32eb95a8056c63b11094a810b6f3ccf8","sha256:8e4b6148b69d0995562082ca6e9322dd6046c1b9807aea06e36fd3fdd5a67032","sha256:85464dbc4cfa97b7d2a091527aea8ba457bbeea3c4378ef9e50cf9570c95b217","sha256:fd82df57f7ddeea34282f72b36f9482c6db62d599d7d8826e3a78dc1cc67d8f4","sha256:3170fda4dc6b9a0bebca9ab7dd13a1c3103a67486877f4f2c17986fa07b49492","sha256:e13f95376e89ed77de38ab6e31a24ea4a100512d8ece8d7032d2b1e154d2cf62","sha256:71907b0ee95f4aedf9dab6e5dcf8524870c2320acb2beecba9032ef6e5edf1cc","sha256:d5047f64db78f28809d7658e840944d7e98fed1be7298ebb8c720dfb3413d7c8","sha256:d26d1af2a0426b4f3342ecef71c3d293e4793582ba183343bb7ff14dedbaa0e8","sha256:410198c1499af4aed10b39f4f36207bbebac78ae6815fb6aaf4e377a6df7a176","sha256:ef46b83455d38840dc01ab3aad758a9890580d91e569bbc86e6226df5a862d42","sha256:efd20f27523ae88af40ac1667b1f18e867dfe17822fcccf9f30b8003f612962c","sha256:81c803ec12bf423cad20184f955352afd59ff9ee303de92352155805f6e99139"]}}